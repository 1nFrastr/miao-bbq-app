# 烧烤点单记录与社区 MVP版本需求文档

## 项目概述
开发一款烧烤点单记录与社区推荐的微信小程序，让用户能够方便地记录点单、计时等餐，并分享烧烤店推荐给其他用户。

## 技术参考
参考 `./refer` 文件夹下面的 `app.html` 文件，这是可以交互的HTML原型图，包含了完整的功能演示和UI设计。

## 核心功能模块

### 1. 点单记录功能
**主要功能：**
- 添加菜品到订单（菜名、单价、数量）
- 实时计算总金额
- 订单状态管理（未开始/进行中/已完成）
- 等餐计时功能
- 订单历史记录

**关键交互：**
- 表单验证：菜名必填，价格和数量为数字
- 添加按钮动态禁用状态
- 计时器开始/停止控制
- 完成订单确认

### 2. 社区推荐功能
**主要功能：**
- 发布烧烤店推荐
- 上传店铺图片（最多3张）
- 地理位置标记和距离计算
- 多种排序方式（距离最近、最新发布、最热门）
- 推荐内容浏览

**数据字段：**
- 店铺名称
- 详细地址
- 人均消费价格
- 推荐理由
- 图片集合
- 发布时间
- 地理坐标

### 3. 位置服务
**功能特点：**
- 智能权限请求弹窗
- 优雅降级处理（拒绝权限仍可正常使用其他功能）
- 距离计算和显示
- 地址逆地理编码

## UI/UX 设计规范

### 设计风格
- **主题色：** #FF6B35（烧烤橙色）
- **设计风格：** 简洁现代，小程序原生风格
- **字体：** 系统默认字体栈

### 页面结构
- **顶部导航：** 固定标题栏，橙色背景
- **底部导航：** 双标签页切换（我的订单 / 社区推荐）
- **内容区域：** 卡片式布局，圆角阴影

### 交互规范
- **反馈提示：** 底部浮动Toast消息
- **加载状态：** 按钮loading状态
- **表单验证：** 实时验证和错误提示
- **图片上传：** 支持多选，预览和删除

## 技术实现要点

### 小程序端开发
1. **页面结构**
   - 使用tabBar实现底部导航
   - 页面使用scroll-view支持长列表滚动
   - 组件化开发，复用性强

2. **数据管理**
   - 使用本地存储保存订单和设置
   - 支持数据的增删改查
   - 状态管理统一化

3. **地理位置**
   - 集成微信位置API
   - 处理位置权限拒绝场景
   - 距离计算算法实现

4. **图片处理**
   - 支持相册选择和拍照
   - 图片压缩和优化
   - 多图预览功能

### 性能优化
- 图片懒加载
- 列表虚拟滚动（如有必要）
- 数据缓存策略
- 网络请求优化

## 用户体验考虑

### 核心体验
1. **快速点单：** 简化流程，减少输入步骤
2. **智能计时：** 自动开始，一键完成
3. **便捷分享：** 快速发布推荐内容
4. **精准推荐：** 基于距离和用户偏好

### 异常处理
- 网络异常提示
- 位置获取失败处理
- 图片上传失败重试
- 数据丢失保护

### 无障碍支持
- 合理的字体大小
- 足够的触摸区域
- 语义化的界面元素

## 开发优先级

### P0 (必须实现)
- 基础点单记录功能
- 订单列表和金额计算
- 简单的计时功能
- 底部导航切换

### P1 (重要功能)
- 社区推荐发布
- 图片上传功能
- 基础的排序功能
- 位置服务集成

### P2 (优化功能)
- 高级排序算法
- 数据统计展示
- 分享功能
- 用户反馈收集

## 验收标准
1. 功能完整性：所有核心功能正常工作
2. 性能表现：页面响应时间 < 300ms
3. 兼容性：支持主流微信版本
4. 用户体验：操作流畅，反馈及时
5. 数据准确：计算结果正确，状态同步

## 后续扩展考虑
- 多人共享订单功能
- 店铺评分系统
- 个人消费统计
- 社交分享功能
- 店铺详情页面

## 开发提示
请严格按照原型图 `./refer/app.html` 的交互逻辑和视觉设计进行开发，确保用户体验的一致性。重点关注小程序平台的特性和限制，合理使用小程序API。

